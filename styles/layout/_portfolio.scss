@use '../utils/' as *;

//! vertical slider variables
$vertical-slide-count: 4;
$vertical-slide-height: 200px;
$vertical-slide-width: 250px;
$vertical-slide-gap: 16px;
$vertical-slide-time: 10s;

.portfolio {
	padding: 6rem 0;
	position: relative;

@include breakpointMobile(991px) {
	padding: 10rem 0;
}


	/* display: flex;
	align-items: center;
	width: 100%;
	height: 700px;
	overflow: hidden;
	background-image: url('/imgs/portfolio/background.webp');
	background-attachment: scroll;
	background-position: center;
	background-size: cover;
	background-repeat: no-repeat; */
	/* 
	@include breakpointMobile(1024px) {
		background-attachment: fixed;
	} */

	&__wrapper {
		display: block;

		@include breakpointMobile(991px) {
			/* display: grid;
			grid-template-columns: repeat(2, 1fr);
			grid-template-rows: auto;
			gap: 4rem; */

			display: flex;
			flex-direction: row-reverse;
			align-items: center;
			gap: 4rem;
		}
	}

	&__content {
		flex: 1;
		position: relative;
		display: flex;
		flex-direction: column;
		justify-content: center;
		gap: 2rem;
		z-index: 2;

		p {
			color: $text-light;
		}
	}

	/* 	&::after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0, 0, 0, 0.8);
		z-index: 1;
	} */

	&__vertical__content {
		position: relative;
		flex: 1;
		z-index: 2;
		height: 50vh;
		margin: 5rem 0 0;
		display: flex;
		gap: 1rem;
		overflow: hidden;
		mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
		mask-size: 100% 100%;
		mask-repeat: no-repeat;

		@include breakpointMobile(991px) {
			height: 70vh;
		}
	}

	&__vertical__up__left,
	&__vertical__up__right,
	&__vertical__down {
		position: relative;
		width: $vertical-slide-width;
		height: auto;
		display: flex;
		flex-direction: column;
		flex-wrap: nowrap;
	}

	&__vertical__track {
		display: flex;
		flex-direction: column;
		will-change: transform;
		backface-visibility: hidden;
		transform-style: preserve-3d;
	}

	&__vertical__up__left,
	&__vertical__up__right {
		.portfolio__vertical__track {
			animation: moveUp calc($vertical-slide-time * $vertical-slide-count) linear infinite;
		}
	}

	&__vertical__down {
		.portfolio__vertical__track {
			animation: moveDown calc($vertical-slide-time * $vertical-slide-count) linear infinite;
		}
	}

	// speed variants
	&__vertical__up__left[data-speed='fast'] .portfolio__vertical__track,
	&__vertical__up__right[data-speed='fast'] .portfolio__vertical__track,
	&__vertical__down[data-speed='fast'] .portfolio__vertical__track {
		animation-duration: 30s;
	}

	&__vertical__up__left[data-speed='medium'] .portfolio__vertical__track,
	&__vertical__up__right[data-speed='medium'] .portfolio__vertical__track,
	&__vertical__down[data-speed='medium'] .portfolio__vertical__track {
		animation-duration: 60s;
	}

	&__vertical__up__left[data-speed='slow'] .portfolio__vertical__track,
	&__vertical__up__right[data-speed='slow'] .portfolio__vertical__track,
	&__vertical__down[data-speed='slow'] .portfolio__vertical__track {
		animation-duration: 90s;
	}

	&__vertical__item {
		height: $vertical-slide-height;
		img {
			padding: 0.5rem 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
			opacity: 0.7;
			filter: brightness(0.9);
		}
	}
}

@keyframes moveUp {
	0% {
		transform: translateY(0);
	}
	100% {
		transform: translateY(-50%);
	}
}

@keyframes moveDown {
	0% {
		transform: translateY(-50%);
	}
	100% {
		transform: translateY(0);
	}
}
